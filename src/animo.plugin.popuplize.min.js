(function(){if(typeof animo=="undefined")throw new Error("Missing animo.js!");animo.popuplize=function(){var e={},t=null,n=function(e){var e=typeof e=="string"?$(e):e;if(e.length==0)throw new Error("Wrong selector or object!");if(e.length>1)throw new Error("There are "+e.length+" elements passed to show method. It should be only one.");return e},r=function(e){var t=e.outerWidth(),n=e.outerHeight(),r=function(){return{position:"absolute",top:"50%",left:"50%","margin-left":-t/2+"px","margin-top":-n/2+"px",display:"block",scale:"0.95, 0.95",opacity:0}};animo.create("dialog.init",$.extend(r(),{skipAnimation:!0})).create("dialog.show",$.extend(r(),{scale:"1.1, 1.1",opacity:1,duration:300})).create("dialog.hide",$.extend(r(),{duration:300})).create("dialog.hideEnds",{display:"none",skipAnimation:!0})},i=function(i){return i=t=n(i),i.parent().length===0&&$("body").append(i),r(i),animo.play({animation:"dialog.init",element:i}),setTimeout(function(){animo.play({animation:"dialog.show",element:i})},20),o.show(),u.show(),e},s=function(t,i){return t=n(t),r(t),animo.play({animation:"dialog.hide",element:t,callback:function(){animo.play({animation:"dialog.hideEnds",element:t}),i&&t.detach()}}),o.hide(),u.hide(),e},o={element:null,selector:null,animationHide:{scale:"0.97, 0.97",duration:300,filter:"blur(2px)"},animationShow:{scale:"1, 1",duration:300,filter:"none"},init:function(e){o.selector=e},show:function(){this.selector&&!this.element&&(this.element=n(this.selector),animo.create("content.hide",this.animationHide).create("content.show",this.animationShow)),this.element&&animo.play({element:this.element,animation:"content.hide"})},hide:function(){this.element&&animo.play({element:this.element,animation:"content.show"})}},u={element:null,show:function(){e.useCover&&!this.element&&(this.element=$('<div class="animo-popuplize-cover"></div>'),this.element.insertBefore(t)),this.element&&this.element.attr("style","position: absolute; width: 100%; height: 100%; top: 0; left: 0; opacity: 0.5; background: #000; display: block;")},hide:function(){this.element&&this.element.attr("style","display: none;")}};return e={useCover:!0,content:o.init,show:i,hide:s}}()})();